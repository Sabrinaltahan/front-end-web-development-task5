async function t(){try{let t=await fetch("https://studenter.miun.se/~mallar/dt211g/");return await t.json()}catch(t){console.error("Error fetching data:",t)}}async function e(){let t=document.getElementById("location").value;if(!t){alert("Please enter a location.");return}try{let e=await fetch(`https://nominatim.openstreetmap.org/search?q=${t}&format=json`),a=await e.json();if(a&&a.length>0){let{lat:t,lon:e}=a[0];!function(t,e){let a=document.getElementById("map-container"),r=`https://www.openstreetmap.org/export/embed.html?bbox=${e},${t},${e},${t}&layer=mapnik`,n=`https://www.openstreetmap.org/?mlat=${t}&mlon=${e}#map=15/${t}/${e}`;a.innerHTML=`<iframe width="100%" height="100%" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="${r}"></iframe><br/><small><a href="${n}" target="_blank">View Marker</a></small>`}(t,e)}else alert("Location not found.")}catch(t){console.error("Error fetching location:",t),alert("Failed to fetch location. Please try again later.")}}document.getElementById("mode-toggle").addEventListener("click",function(){document.body.classList.toggle("dark")}),window.addEventListener("load",function(){document.querySelector(".loader").style.display="none"}),document.addEventListener("DOMContentLoaded",function(){t()}),t().then(t=>{console.log("Data fetched:",t),function(t){try{let e=t.filter(t=>"Kurs"===t.type).slice(0,6),a=e.map(t=>t.name),r=e.map(t=>parseInt(t.applicantsTotal)),n=document.getElementById("barChart").getContext("2d");n?new Chart(n,{type:"bar",data:{labels:a,datasets:[{label:"Total Applicants",data:r,backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}}):console.error("Failed to create bar chart: Canvas element not found")}catch(t){console.error("Error creating bar chart:",t)}}(t),function(t){try{let e=t.filter(t=>"Program"===t.type);e.sort((t,e)=>parseInt(e.applicantsTotal)-parseInt(t.applicantsTotal));let a=e.slice(0,5),r=a.map(t=>t.name),n=a.map(t=>parseInt(t.applicantsTotal)),o=document.getElementById("pieChart").getContext("2d");o?new Chart(o,{type:"pie",data:{labels:r,datasets:[{label:"Total Applicants",data:n,backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]},options:{responsive:!0}}):console.error("Failed to create pie chart: Canvas element not found")}catch(t){console.error("Error creating pie chart:",t)}}(t)}),document.getElementById("search-button").addEventListener("click",e);
//# sourceMappingURL=index.6dc84cdf.js.map
